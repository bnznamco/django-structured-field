!function(){"use strict";function e(e){const t=JSON.parse(e.dataset.schema);JSON.parse(e.dataset.uischema);const n=JSON.parse(e.dataset.formdata),o=document.getElementById(`id_${e.dataset.name}`),a=new JSONEditor(e,{schema:t,startval:n,max_depth:10,show_errors:"always"});a.on("change",(()=>{o.innerHTML=JSON.stringify(a.getValue())}))}document.addEventListener("DOMContentLoaded",(()=>{JSONEditor.defaults.options.theme="html",JSONEditor.defaults.options.iconlib="fontawesome5",window.JSONEditor.defaults.callbacks={autocomplete:{search_model:function(e,t){const{model:n}=e.schema.options.autocomplete;var o=`/structured_field/search_model/?_m=${n}&_q=${encodeURI(t)}`;return new Promise((function(e){if(t.length<3)return e([]);fetch(o).then((function(e){return e.json()})).then(e)}))},getResultValue_model:function(e,t){return t.name},renderResult_model:function(e,t,n){return["<li "+n+">",'<div class="model-name">'+t.name+"</div>","</li>"].join("")}}};const t=document.querySelectorAll(".structured-field-editor");for(let n=0;n<t.length;n++)e(t[n])}))}();
